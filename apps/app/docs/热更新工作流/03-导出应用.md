# 热更新工作流 - 导出并打包应用

## 导出 Expo 应用

```bash
# 进入 App 目录
cd /path/to/apps/app

# 清理旧文件
rm -rf dist update-bundle.zip

# 导出 Android 应用
bunx expo export --platform android --output-dir dist

# 打包为 ZIP
cd dist && zip -r ../update-bundle.zip . && cd ..

# 检查文件大小
ls -lh update-bundle.zip
```

或者一行
```
cd /Volumes/DevDrive/030201xz/Projects/typescript/code-push/rapid-s/apps/app && \
rm -rf dist update-bundle.zip && \
bunx expo export --platform android --output-dir dist && \
cd dist && zip -r ../update-bundle.zip . && cd .. && \
ls -lh update-bundle.zip
```

## 命令说明

- `--platform android`: 仅导出 Android 平台
- `--output-dir dist`: 输出到 dist 目录
- `zip -r`: 递归打包目录下所有文件

## 输出示例

```
Android Bundled 5647ms
› Assets (29):
  MaterialIcons.ttf (357 kB)
  ...
› android bundles (1):
  entry-xxx.hbc (3.79 MB)
› Files (1):
  metadata.json (2.1 kB)

Exported: dist

-rw-r--r-- 1 user staff 1.7M Dec 19 23:41 update-bundle.zip
```

## 注意事项

- ZIP 文件包含所有资源和 bundle
- 文件大小通常在 1-5 MB 之间
- 确保 `metadata.json` 存在于 ZIP 中
